<div><%= flash[:notice] %></div>

<div>
  <%= form_with url: search_path, method: :get do |f| %>
    <%= f.text_field :word, placeholder: "検索したい分野を記入して下さい", value: params[:word], class: "from-box"  %>
    <%= f.submit "検索", class: "" %>
  <% end %>
</div>

<h1>勉強会感想一覧</h1>

<table class="table table-hover table-inverse">
  <thead>
    <tr>
      <th>勉強会名</th>
      <th>分野</th>
      <th>講師名</th>
      <th>投稿者名</th>
      <th>コメント数</th>
    </tr>
  </thead>
  <tbody>
    <% @impressions.each do |impression| %>
      <tr>
        <td>
          <%= link_to impression_path(impression.id) do %>
            <%= impression.title %>
          <% end %>
        </td>
        <td><%= impression.field.name %></td>
        <td><%= impression.name %></td>
        <td>
          <%= link_to customer_path(impression.customer.id) do %>
            <%= impression.customer.name %>
          <% end %>
        </td>
        <td><%= link_to "#{impression.comments.count} コメント", impression_path(impression.id) %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= paginate @impressions %>